---
import { getLocale } from '../../i18n/i18n';

interface Props {
  image: string;
  title: string;
  id: string;
  slug: string;
  summary?: string;
  published_date?: string;
  reading_time?: string;
  textColor?: string;
  iconColor?: string;
  hoverImage?: string;
  currentLang?: string;
}

const { 
  image, 
  title, 
  id,
  slug,
  summary = '',
  published_date = '',
  reading_time = '',
  textColor = 'text-blue-900',
  iconColor = 'text-blue-900',
  hoverImage = image,
  currentLang = getLocale()
} = Astro.props;

const blogLink = `/${currentLang}/blog/${slug || id}`;
const viewBlogText = currentLang === 'es' ? 'Leer más' : 'Read more';
---

<article class="bg-white rounded-2xl shadow-md overflow-hidden">
  <a href={blogLink} class="block">
    <div class="bg-[#F5EDD8] p-3">
      <img
        src={image || '/images/blog/placeholder.jpg'}
        alt={title}
        class="w-full h-[180px] md:h-[200px] object-cover rounded-xl"
        loading="lazy"
        transition:name={`blog-image-${id}`}
      />
    </div>
    <div class="p-6">
      <div class="flex items-center gap-3 text-xs text-gray-500 mb-3">
        {published_date && <span>{published_date}</span>}
        {published_date && reading_time && <span>•</span>}
        {reading_time && <span>{reading_time}</span>}
      </div>
      <h3 class="text-black font-title font-bold text-lg leading-snug mb-2">
        {title}
      </h3>
      {summary && (
        <p class="text-gray-600 text-sm leading-relaxed mb-4">
          {summary}
        </p>
      )}
      <span class="text-orange font-bold text-sm hover:underline">
        {viewBlogText} →
      </span>
    </div>
  </a>
</article>

<style>
  /* Mantener los mismos estilos que RecipeCard */
</style>
